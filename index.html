<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ë‚™ë™ê°• ìˆ˜ì˜¨ ì •ë³´</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; padding: 50px; }
  .temp { font-size: 2em; color: #007acc; margin-top: 20px; }
</style>
</head>
<body>
<h1>ğŸŒŠ ë‚™ë™ê°• í˜„ì¬ ìˆ˜ì˜¨</h1>
<div class="temp" id="temp">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>

<script>
  const API_URL = "https://apis.data.go.kr/6260000/BusanRvrwtQltyInfoService/getRvrwtQltyInfo";
  const SERVICE_KEY = "1TcBEfaeVj0nKdA3JfBPismv39rsS%2B%2BrMXUGubaIMo8IRQFDXW5zTaKkquZMas2nnPEfNV6ASYvND%2BvXYymW%2BQ%3D%3D";

  async function fetchTemperature() {
    try {
      const response = await fetch(`${API_URL}?serviceKey=${SERVICE_KEY}&numOfRows=10&pageNo=1`);
      const text = await response.text();
      const parser = new DOMParser();
      const xml = parser.parseFromString(text, "application/xml");
      const items = xml.getElementsByTagName("item");

      let tempText = "ë°ì´í„° ì—†ìŒ";

      for (let item of items) {
        const riverName = item.getElementsByTagName("area_NAME")[0]?.textContent;
        if (riverName === "ë‚™ë™ê°•") {
          const temp = item.getElementsByTagName("water10")[0]?.textContent;
          if (temp) {
            tempText = `${temp} Â°C`;
            break;
          }
        }
      }

      document.getElementById("temp").textContent = tempText;
    } catch (error) {
      console.error("ì—ëŸ¬ ë°œìƒ:", error);
      document.getElementById("temp").textContent = "ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
    }
  }

  fetchTemperature();
</script>
</body>
</html>